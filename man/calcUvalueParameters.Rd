% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calcUvalueParameters.R
\name{calcUvalueParameters}
\alias{calcUvalueParameters}
\title{Calculate fit parameters for U-value projections}
\usage{
calcUvalueParameters(endOfHistory = 2025)
}
\arguments{
\item{endOfHistory}{Integer. The last year to consider as historical data (default: 2025)}
}
\value{
magpie object with regional fit parameters
}
\description{
Estimates regional fit parameters for projecting building envelope U-values using mixed-effects
regression. Combines data from Hotmaps, MessageIX Buildings, and EU Buildings Observatory to model
thermal performance across regions based on climate indicators (HDD/CDD) and economic development
(GDP per capita).
}
\details{
The function uses a linear mixed-effects model with the formula:
log(U-value - minU) ~ HDD * log(gdppop + 1) + CDD * log(gdppop + 1) + (1 | region)

This captures the relationship between U-values and:
\itemize{
\item Heating degree days (HDD)
\item Cooling degree days (CDD)
\item GDP per capita (gdppop)
\item Interaction terms: how climate effects vary with economic development
\item Regional random effects: region-specific deviations from global pattern
}

The function handles regional parameter estimation in two ways:
\enumerate{
\item For regions with sufficient historical data points, parameters are directly estimated
via mixed-effects regression (lmer)
\item For regions with insufficient data, the function:
\itemize{
\item Uses global fixed effects as a baseline
\item Calculates the difference between aggregated regional projections and their reference values
\item Applies empirical Bayes shrinkage to balance between global pattern and regional differences
\item Adjusts intercepts using these shrunken offsets to create region-specific parameters
}
}

The resulting parameters can be used to project future U-values based on climate and
economic scenarios.
}
\author{
Hagen Tockhorn
}
